function hess_x_pt_pt = computeHessianXPointPoint(point, cameraparams)
%COMPUTEHESSIANXPOINTPOINT
%    HESS_X_PT_PT = COMPUTEHESSIANXPOINTPOINT(X,Y,Z,FX,TX,TZ,WX,WY,WZ,X0)

%    This function was generated by the Symbolic Math Toolbox version 8.0.
%    01-Dec-2018 12:28:47

X = point(1);
Y = point(2);
Z = point(3);
fx = cameraparams(1);
fy = cameraparams(2);
x0 = cameraparams(3);
y0 = cameraparams(4);
wx = cameraparams(5);
wy = cameraparams(6);
wz = cameraparams(7);
tx = cameraparams(8);
ty = cameraparams(9);
tz = cameraparams(10);
if (0.0 < wx.^2+wy.^2+wz.^2)
    t0 = (fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2.*2.0+(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).^2.*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t0 = 0.0;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t1 = -(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2-(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2-(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t1 = 0.0;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t2 = -(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2+(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2-(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t2 = -fx.*1.0./(Z+tz).^2;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t3 = -(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2-(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2-(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t3 = 0.0;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t4 = (fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2.*2.0+(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).^2.*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t4 = 0.0;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t5 = -(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2+(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2+(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t5 = 0.0;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t6 = -(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2+(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2-(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t6 = -fx.*1.0./(Z+tz).^2;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t7 = -(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2+(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2+(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t7 = 0.0;
end
if (0.0 < wx.^2+wy.^2+wz.^2)
    t8 = (x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^2.*-2.0+((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0).^2.*1.0./(tz+Z.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-X.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))+Y.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))).^3.*(fx.*tx-Y.*(fx.*(wz.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wy.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2))-x0.*(wx.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wy.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+tz.*x0+X.*(fx.*((wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wz.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)-x0.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)+(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))+Z.*(x0.*((wx.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+(wy.^2.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)+1.0)+fx.*(wy.*sin(sqrt(wx.^2+wy.^2+wz.^2)).*1.0./sqrt(wx.^2+wy.^2+wz.^2)-(wx.*wz.*(cos(sqrt(wx.^2+wy.^2+wz.^2))-1.0))./(wx.^2+wy.^2+wz.^2)))).*2.0;
else
    t8 = 1.0./(Z+tz).^3.*(X.*fx+Z.*x0+fx.*tx+tz.*x0).*2.0-x0.*1.0./(Z+tz).^2.*2.0;
end
hess_x_pt_pt = reshape([t0,t1,t2,t3,t4,t5,t6,t7,t8],[3,3]);
